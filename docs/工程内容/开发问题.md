--- 
sort: 1
---

# å¼€å‘é—®é¢˜

> æŒç»­æ›´æ–°ä¸­


[ðŸ”¨ç®—æ³•å¼€å‘æ‰‹å†Œ](https://kg-nlp.github.io/Algorithm-Project-Manual/å·¥ç¨‹å†…å®¹/å¼€å‘é—®é¢˜.html)
[ðŸ”¨ä¸ªäººçŸ¥ä¹Ž](https://www.zhihu.com/people/zhangyj-n)

* **keras2.3.1å’ŒTensorFlow2.3pipåŒ…ä¸å…¼å®¹**


> \AttributeError: module 'tensorflow.python.framework.ops' has no attribute '_TensorLike  
> https://github.com/tensorflow/tensorflow/issues/38589


* **gradle å®‰è£…**
> https://www.myfreax.com/how-to-install-gradle-on-centos-7/ 

* **elasticsearchå¯åŠ¨æŠ¥é”™-can not run elasticsearch as root**
> https://blog.csdn.net/liuxiangke0210/article/details/113992511


* **Ask questions./gradlew clean pz å¤±è´¥**
> https://gitmemory.com/issue/sing1ee/elasticsearch-jieba-plugin/65/818561415
> https://blog.csdn.net/tingkr/article/details/84029738

* **docker apt-updateå¤ªæ…¢åˆ‡æ¢aptæº**
> https://blog.csdn.net/flysnownet/article/details/108486297

* **æ˜¾å¡æœ‰é—®é¢˜æ— æ³•åŠ è½½**

```
æŸ¥çœ‹GPUåž‹å·
lspci | grep -i nvidia

å¦‚æžœæ­£å¸¸æ˜¾ç¤ºå¯èƒ½æ˜¯ æ˜¾å¡æœ‰ç¼“å­˜,æœªè¢«æ¸…ç†æŽ‰
æ¸…ç†GPUç¼“å­˜
fuser -v /dev/nvidia*

nvidia-smiå¦‚æžœä¸æ­£å¸¸æ˜¾ç¤º,å¤§æ¦‚çŽ‡æœ‰æ˜¾å¡å‡ºé—®é¢˜äº†
```

* **Centos7å®‰è£…OpenJDK11å¹¶é…ç½®JAVA_HOME**
> https://blog.csdn.net/eagle89/article/details/109989015
> é€‰æ‹©javaç‰ˆæœ¬ï¼ˆsudo) https://cloud.tencent.com/developer/article/1741586


* **paddle æ— æ³•å®‰è£…çš„é—®é¢˜**
> https://www.paddlepaddle.org.cn/documentation/docs/zh/install/conda/linux-conda.html

```bash
python -m pip install paddlepaddle -i https://mirror.baidu.com/pypi/simple
```

* **ç¼ºåŠ¨æ€åº“å¤„ç†åŠžæ³•**

å¯»æ‰¾åŠ¨æ€åº“å†copyåˆ°é“¾æŽ¥ä½ç½®

```bash
ImportError: libpython3.7m.so.1.0: cannot open shared object file: No such file or directory
sudo find / -name libpython3.7m.so.1.0
sudo find / -name libpython3.8.so.1.0

(paddle2.4) [zhangyj-n@pkm-01 ~]$ sudo cp /data/miniconda3/envs/paddle2.4/lib/libpython3.8.so.1.0 /usr/local/lib64/
(paddle2.4) [zhangyj-n@pkm-01 ~]$ sudo cp /data/miniconda3/envs/paddle2.4/lib/libpython3.8.so.1.0 /usr/lib/
(paddle2.4) [zhangyj-n@pkm-01 ~]$ sudo cp /data/miniconda3/envs/paddle2.4/lib/libpython3.8.so.1.0 /usr/lib64/

æ‹·è´è‡³/usr/lib64/ ä¸­å°±è¡Œ
sudo find /data/miniconda3/envs/ -name libcudart.so.10.2
sudo cp /data/miniconda3/pkgs/cudatoolkit-10.2.89-hfd86e86_1/lib/libcudart.so.10.2 /usr/lib64/

sudo cp /data/miniconda3/envs/paddle_env/lib/libpython3.7m.so.1.0 /usr/lib64/
```
* **You may need to install â€˜nccl2â€˜ from NVIDIA official website**

> https://blog.csdn.net/sinat_29957455/article/details/112507826
https://github.com/PaddlePaddle/PaddleDetection/issues/1444 ï¼ˆé‡è¦ï¼‰
https://www.paddlepaddle.org.cn/documentation/docs/zh/install/pip/linux-pip.html#span-id-gpu-gpu-paddlepaddle-spanï¼ˆé‡è¦ï¼‰



>  https://developer.nvidia.com/nccl/nccl-downloadbefore install PaddlePaddle

```bash
libnccl.soæ²¡æœ‰æ‰¾åˆ°ï¼Œéœ€è¦å®‰è£…ncclï¼Œå®‰è£…å¥½åŽæŠŠlibnccl.soè®¾ç½®åˆ°LD_LIBRARY_PATHä¸­
sudo find / -name libnccl.so   # ä¸çŸ¥é“å¤åˆ¶å“ªä¸ªè·¯å¾„,å°±éƒ½æ”¾è¿›åŽ»
sudo cp libnccl.so /usr/local/lib/
sudo cp libnccl.so /usr/local/lib64/
sudo cp libnccl.so /usr/lib/
sudo cp libnccl.so /usr/lib64/
```


* **The third-party dynamic library (libcudnn.so) that Paddle depends on is not configured correctly. (error code is /usr/local/cuda/lib64/libcudnn.so: cannot open shared object file: No such file or directory)**
å…ˆæ‰¾æ–‡ä»¶ï¼Œå†å¤åˆ¶

```bash
find / -name libcudnn.so
mkdir -p  /usr/local/cuda/lib
cp /data/data/w/.conda/envs/tf_1.15/lib/libcudnn.so   /usr/local/cuda/lib
```

* **ImportError: /lib64/libstdc++.so.6: version `GLIBCXX_3.4.20' not found**

> https://blog.csdn.net/qq_22948593/article/details/110877000

```bash
strings /lib64/libstdc++.so.6 | grep GLIBCXX
strings /data/data/zhangyj-n-data-dir-volume-pvc-c36885b1-d1ed-4ef8-b792-6a6cc06d7a84/.conda/envs/tf2.3torch1.7/lib/libstdc++.so.6 | grep GLIBCXX
cp /data/data/zhangyj-n-data-dir-volume-pvc-c36885b1-d1ed-4ef8-b792-6a6cc06d7a84/.conda/envs/tf2.3torch1.7/lib/libstdc++.so.6 /lib64/
```

* **linuxä¸‹matplotlibä¸­æ–‡æ— æ³•æ˜¾ç¤º**

```bash
è¿™ç§æ–¹æ³•ä¸ä¸€å®šèµ·ä½œç”¨
from pylab import mpl
mpl.rcParams['font.sans-serif']=['SimHei'] 
mpl.rcParams['axes.unicode_minus']=Fals
```
æ°¸ä¹…åŠžæ³•
> https://blog.csdn.net/sinat_40875078/article/details/104326625

* **tensorflow.python.framework.errors_impl.UnknownError: Fail to find the dnn imp**

> https://blog.csdn.net/u013421629/article/details/103591687

```python
tensorflowæœ‰ä¸¤ç§æ˜¾å­˜åˆ†é…æ–¹å¼ï¼š
1ã€ä»…åœ¨éœ€è¦æ—¶ç”³è¯·æ˜¾å­˜ç©ºé—´ï¼ˆç¨‹åºåˆå§‹è¿è¡Œæ—¶æ¶ˆè€—å¾ˆå°‘çš„æ˜¾å­˜ï¼Œéšç€ç¨‹åºçš„è¿è¡Œè€ŒåŠ¨æ€ç”³è¯·æ˜¾å­˜ï¼‰ï¼›
2ã€é™åˆ¶æ¶ˆè€—å›ºå®šå¤§å°çš„æ˜¾å­˜ï¼ˆç¨‹åºä¸ä¼šè¶…å‡ºé™å®šçš„æ˜¾å­˜å¤§å°ï¼Œè‹¥è¶…å‡ºçš„æŠ¥é”™ï¼‰ã€‚
è€Œé»˜è®¤æ˜¯ç¬¬äºŒç§ï¼ï¼ï¼
è§£å†³åŠžæ³•æˆ‘ä»¬æŠŠæ˜¾å­˜åˆ†é…æ–¹å¼æ”¹æˆç¬¬ä¸€ç§å°±å¯ä»¥äº†ã€‚
è§£å†³åŠžæ³•:
import tensorflow as tf
gpus = tf.config.experimental.list_physical_devices('GPU')
for gpu in gpus:
    tf.config.experimental.set_memory_growth(gpu, True)
```

* **from __future__ import absolute_import, division, print_function, unicode_literals**

> https://blog.csdn.net/qq_31821675/article/details/89380342
https://blog.csdn.net/feixingfei/article/details/7081446
å¼•ç”¨æœªæ¥å·¥å…·åŒ… å¿…é¡»æ”¾åœ¨æ‰€æœ‰''' ''''æ³¨é‡Šä¹‹å‰

```
from __future__ import absolute_import,division,unicode_literals
'''ç¬¬ä¸€æ­¥ï¼šä¸‹è½½æ•°æ®é›†å¹¶åšæ–‡æœ¬é¢„å¤„ç†'''
'''1.1ä¸‹è½½æ•°æ®'''
```

absolute_importï¼š
å¦‚æžœæ²¡æœ‰absolute_importï¼Œå°±ä¼šå¼•ç”¨pkgä¸‹çš„stringæ¨¡å—ï¼ˆç›¸å¯¹è·¯å¾„ï¼‰ï¼Œåä¹‹ï¼Œå°±ä¼šä»Žé¡¶å±‚è·¯å¾„æŸ¥æ‰¾stringæ ‡å‡†åº“ï¼ˆç»å¯¹è·¯å¾„ï¼‰ã€‚

unicode_literalsï¼š
python2é»˜è®¤æ˜¯asciiç¼–ç ï¼Œå¯¹äºŽunicodeç¼–ç çš„å­—ç¬¦ä¸²ï¼Œå¿…é¡»åœ¨ç­¾åæ·»åŠ uï¼Œe.g. u"æµ‹è¯•"

divisionï¼š
å¯¼å…¥pythonæœªæ¥æ”¯æŒçš„è¯­è¨€ç‰¹å¾division(ç²¾ç¡®é™¤æ³•)ï¼Œå½“æˆ‘ä»¬æ²¡æœ‰åœ¨ç¨‹åºä¸­å¯¼å…¥è¯¥ç‰¹å¾æ—¶ï¼Œ"/"æ“ä½œç¬¦æ‰§è¡Œçš„æ˜¯æˆªæ–­é™¤æ³•(Truncating Division),å½“æˆ‘ä»¬å¯¼å…¥ç²¾ç¡®é™¤æ³•ä¹‹åŽï¼Œ"/"æ‰§è¡Œçš„æ˜¯ç²¾ç¡®é™¤æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
```bash
>>> 3/4
0
>>> from __future__ import division
>>> 3/4
0.75
```
å¯¼å…¥ç²¾ç¡®é™¤æ³•åŽï¼Œè‹¥è¦æ‰§è¡Œæˆªæ–­é™¤æ³•ï¼Œå¯ä»¥ä½¿ç”¨"//"æ“ä½œç¬¦ï¼š

```bash
>>> 3//4
0
```

* **è§£å†³é…ç½®vimä¸­æ–‡ä¹±ç çš„é—®é¢˜**

> https://blog.csdn.net/weixin_36250487/article/details/79888103

```bash
è§£å†³linuxä¸‹vimä¹±ç çš„æƒ…å†µï¼š(ä¿®æ”¹vimrcçš„å†…å®¹ï¼‰
å…¨å±€çš„æƒ…å†µä¸‹ï¼šå³æ‰€æœ‰ç”¨æˆ·éƒ½èƒ½ç”¨è¿™ä¸ªé…ç½®
æ–‡ä»¶åœ°å€ï¼š/etc/vimrc
åœ¨æ–‡ä»¶ä¸­æ·»åŠ ï¼š
set fileencodings=utf-8,ucs-bom,gb18030,gbk,gb2312,cp936
set termencoding=utf-8
set encoding=utf-8
```

* **tuple' object has no attribute 'size**

```
å¾ˆå¯èƒ½æ˜¯å˜é‡ç”¨ï¼ˆï¼‰æ‹¬èµ·æ¥äº†
```

* **ä½¿ç”¨Cross_entropyæŸå¤±å‡½æ•°æ—¶å‡ºçŽ° RuntimeError: multi-target not supported at**

```
å…¶æ ‡ç­¾å¿…é¡»ä¸º0~n-1ï¼Œè€Œä¸”å¿…é¡»ä¸º1ç»´çš„ï¼Œå¦‚æžœè®¾ç½®æ ‡ç­¾ä¸º[nx1]çš„ï¼Œåˆ™ä¹Ÿä¼šå‡ºçŽ°ä»¥ä¸Šé”™è¯¯
```

* **Docker å®‰è£…åŽ æŠ¥ Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running? è§£å†³åŠžæ³•**

> https://www.cnblogs.com/forturn/p/9371841.html

```bash
systemctl daemon-reload
service docker restart
service docker status
docker run hello-world

dockerç«¯å£å ç”¨ ï¼š ps aux | grep docker ï¼ˆç”¨ä¸‹é¢çš„æ˜¾ç¤ºæ›´æ¸…æ¥šï¼‰
ps -aux | grep -v grep | grep docker-proxy
killæŽ‰è¿™ä¸ªç«¯å£ï¼Œé‡å¯æœåŠ¡ (ç›´æŽ¥restartå°±å¯ä»¥)
server docker stop 
service docker start
```

* **json.decoder.JSONDecodeError: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)**

```
json.loads() æ”¹ä¸º eval()
```

* **æ‰‹åŠ¨æ·»åŠ Git Bash Hereåˆ°å³é”®èœå•**

> https://blog.csdn.net/Passerby_Wang/article/details/120881670

* **pandas æ±‚é•¿åº¦æ—¶å‡ºçŽ°é—®é¢˜**

```python
df_train_14['length'] = df_train_14.apply(lambda x:len(x[1])+len(x[2]),axis=1)
```
TypeError: object of type 'float' has no len() åŽŸå› : åˆ—è¡¨ä¸­æœ‰ç©ºå€¼

```python
df_train_14['length'] = df_train_14.apply(lambda x:len(str(x[1]))+len(str(x[2])),axis=1)
```

* **è„šæœ¬ä»Žwindowsä¸Šä¼ åˆ°linuxæ— æ³•æ‰§è¡Œ**

```
åŽŸå› ï¼šWindowsä¸‹æ¢è¡Œç¬¦å·æ˜¯â€œ\r\nâ€ï¼Œè€Œlinuxä¸‹æ˜¯â€œ\nâ€æ²¡æœ‰â€\râ€ï¼Œå½“shellè„šæœ¬æ˜¯åœ¨Windowsä¸‹ç¼–å†™çš„æ—¶å€™ï¼Œé»˜è®¤æ‰€æœ‰çš„æ¢è¡Œç¬¦éƒ½æ˜¯â€œ\r\nâ€ï¼Œlinuxä¸‹æ˜¯æ²¡åŠžæ³•æ­£ç¡®è¯†åˆ«è¿™ä¸ªæ–‡ä»¶çš„ï¼Œä¼šæç¤ºä»¥ä¸Šé”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹ç¼–è¾‘å™¨ï¼Œå¦‚UltraEditï¼Œå°†è¯¥æ–‡ä»¶è½¬æ¢ä¸ºunixæ ¼å¼ï¼Œæ‰§è¡Œâ€œFile->conversions->Dos to Unixâ€ï¼Œè¿™æ­¥æ“ä½œå°±æ˜¯åˆ é™¤â€\râ€ç¬¦å·ã€‚

linuxä¸‹çš„ç®€å•è§£å†³åŠžæ³•ï¼š

ä¿®æ”¹æ–‡ä»¶: sed -i 's/\r$//g'  filename  æ‰‹å·¥åˆ é™¤â€œ\râ€ç¬¦å·

vimæ‰“å¼€æ–‡ä»¶åŽï¼Œå‘½ä»¤æ¨¡å¼æ‰§è¡Œ :set ff=unix  , ç„¶åŽä¿å­˜å°±è¡Œäº†

ä½¿ç”¨ dos2unixå‘½ä»¤è½¬æ¢æ–‡ä»¶
ubuntuå®‰è£…
    sudo apt-get install tofrodos  

    fromdos æ–‡ä»¶å
centoså®‰è£…:
    yum -y install dos2unix

    dos2unix æ–‡ä»¶å
    
æœ€æœ‰æ•ˆçš„æ–¹æ³•:ç›´æŽ¥åœ¨pycharmä¸­è¿›è¡Œè®¾ç½®
File-Line Separators-LF   
```

* **ubuntu:Unable to locate package**

```
sudo apt-get update
```

* **AttributeError: 'DataParallel' object has no attribute 'save_pretrained'**

ä½¿ç”¨paddlepaddleä¿å­˜æ¨¡åž‹
å¦‚æžœä½¿ç”¨äº† python -m paddle.distributed.launch å¹¶è¡Œå¤„ç†,åˆ™ åœ¨ä¿å­˜æ—¶ä½¿ç”¨å¦‚ä¸‹ä»£ç 

```python
python -m paddle.distributed.launch
# model._layers.save_pretrained(save_best_path)
```
éžå¹¶è¡Œå¤„ç†

```python
save_param_path = os.path.join(save_best_path, "model_state.pdparams")
paddle.save(model.state_dict(), save_param_path)
æˆ–è€…
model.save_pretrained(save_best_path)
```

* **linux å‘½ä»¤è¡¥å…¨**

> https://cloud.tencent.com/developer/news/598652

```bash
yum install bash-completion 
source /usr/share/bash-completion/bash_completion 
```

* **æŸ¥çœ‹æŸä¸ªç«¯å£è¢«å ç”¨æƒ…å†µ**

> https://www.runoob.com/w3cnote/linux-check-port-usage.html

```bash
netstat -anp | grep ç«¯å£å·  è¿™ä¸ªæ˜¯unbuntu
tcp        0      0 127.0.0.1:34750         127.0.0.1:10003         ESTABLISHED 19801/python    
19801 æ˜¯ç«¯å£å·

lsof -i:ç«¯å£å·   è¿™ä¸ªæ˜¯centosçš„å‘½ä»¤
```

* **pandaså¯¼å‡ºå‡ºçŽ°éžæ³•å­—ç¬¦**

```bash
pip3 install xlsxwriter
```

* **AttributeError: module 'lib' has no attribute 'X509_V_FLAG_CB_ISSUER_CHECK'**

> https://stackoverflow.com/questions/73830524/attributeerror-module-lib-has-no-attribute-x509-v-flag-cb-issuer-check

pip æ— æ³•ä½¿ç”¨

```bash
sudo apt remove python-pip  æ²¡å¿…è¦åŽ»é™¤
wget https://bootstrap.pypa.io/get-pip.py
sudo python get-pip.py

And then after a reboot:
pip install pyopenssl --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple
```

* **æ°¸ä¹…æ›´æ–°æ¸…åŽæº**

```bash
pip install pip -U
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
```

* **ImportError: libGL.so.1: cannot open shared object file: No such file or directory**

> https://stackoverflow.com/questions/55313610/importerror-libgl-so-1-cannot-open-shared-object-file-no-such-file-or-directo


```bash
apt-get update  # è¿™å¥ä¸ä¸€å®šéœ€è¦æ‰§è¡Œ
apt-get install libgl1
```

* **CUDAç¼–ç¨‹ å¦‚ä½•åˆ©ç”¨é”™è¯¯ç å’Œå®˜æ–¹æ–‡æ¡£è¿½æº¯é”™è¯¯åŽŸå› **

> https://blog.csdn.net/benobug/article/details/105227089

> https://docs.nvidia.com/cuda/cuda-runtime-api/group__CUDART__TYPES.html#group__CUDART__TYPES_1g3f51e3575c2178246db0a94a430e0038